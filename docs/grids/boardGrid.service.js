"use strict";

angular.module("grids").service("BoardGridService", function () {

	var emptyBoard = true;

	var numberStack = [];

	var currentNumber = null;
	var currentOperation = null;
	var currentOperationResult = null;

	var inputDirty = false;

	if (emptyBoard) {

		currentNumber = "0";
	}

	this.appendDigit = function (digit) {

		if (emptyBoard) {

			currentNumber = "";
			emptyBoard = false;
		}

		if (!inputDirty) {

			if (digit === 0) {

				currentNumber = 0;

				return;
			}

			currentNumber = "";
		}

		currentNumber += digit;
		inputDirty = true;
	};

	this.getCurrentNumber = function () {

		return currentNumber;
	};

	var executeOperation = function executeOperation() {

		console.log("Executing " + currentOperation);

		var digitA = numberStack.shift();
		var digitB = numberStack.shift();

		switch (currentOperation) {

			case "addition":
				currentOperationResult = digitA + digitB;
				break;
			case "subtraction":
				currentOperationResult = digitA - digitB;
				break;
			case "multiplication":
				currentOperationResult = digitA * digitB;
				break;
			case "division":
				currentOperationResult = digitA / digitB;
				break;
			default:
				console.log("Operation has not been created.");

		}

		currentNumber = currentOperationResult;
	};

	this.setCurrentOperation = function (op) {

		if (op === "resultant") {

			if (numberStack === 2) {

				executeOperation();

				numberStack.push(parseInt(currentNumber, 10));

				console.log(numberStack);

				inputDirty = false;
			}
		}

		/**
   * If there is nothing in numberStack & there is no input, do nothing
   * If there is nothing in numberStack & there is input, define an operation
   */

		if (numberStack.length === 0 && !inputDirty) {

			console.log("There is nothing to operate on");
		} else if (numberStack.length === 0 && inputDirty) {

			console.log("There is something to put in the stack!");

			currentOperation = op;

			numberStack.push(parseInt(currentNumber, 10));
			console.log(numberStack);
			inputDirty = false;
		}

		/** If there is one element in numberStack & there is no input,
   * define an operation or allow to switch operations
   * If there is one element in numberStack & there is input,
   * push the input into numberStack
   */

		if (numberStack.length === 1 && !inputDirty) {

			console.log("There is an element in the stack");
			currentOperation = op;
			console.log(currentOperation);
		} else if (numberStack.length === 1 && inputDirty) {

			numberStack.push(parseInt(currentNumber, 10));
			console.log(numberStack);
			inputDirty = false;

			/**
    * This will make the execution block to run.
    * The operation that was assigned to trigger the execution
    * will be stored after the execution is done as it will
    * leave one element in the stack ready to an operation
    */
		}

		/**
   * If there are two elements in numberStack,
   * execute the current operation
   */

		if (numberStack.length === 2) {

			console.log("Execute Operation");

			executeOperation();

			// Operation is complete. Add result to numberStack

			numberStack.push(parseInt(currentNumber, 10));

			console.log(numberStack);

			currentOperation = op;
			console.log(currentOperation);
		}
	};

	this.clearBoard = function () {

		console.log("CLEAR");

		emptyBoard = true;

		numberStack.length = 0;

		currentNumber = 0;
		currentOperation = null;
		currentOperationResult = null;

		inputDirty = false;
	};
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyaWRzL2JvYXJkR3JpZC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiZW1wdHlCb2FyZCIsIm51bWJlclN0YWNrIiwiY3VycmVudE51bWJlciIsImN1cnJlbnRPcGVyYXRpb24iLCJjdXJyZW50T3BlcmF0aW9uUmVzdWx0IiwiaW5wdXREaXJ0eSIsImFwcGVuZERpZ2l0IiwiZGlnaXQiLCJnZXRDdXJyZW50TnVtYmVyIiwiZXhlY3V0ZU9wZXJhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJkaWdpdEEiLCJzaGlmdCIsImRpZ2l0QiIsInNldEN1cnJlbnRPcGVyYXRpb24iLCJvcCIsInB1c2giLCJwYXJzZUludCIsImxlbmd0aCIsImNsZWFyQm9hcmQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxRQUFRQyxNQUFSLENBQWUsT0FBZixFQUNFQyxPQURGLENBQ1Usa0JBRFYsRUFDOEIsWUFBWTs7QUFFeEMsS0FBSUMsYUFBYSxJQUFqQjs7QUFFQSxLQUFNQyxjQUFjLEVBQXBCOztBQUVBLEtBQUlDLGdCQUFnQixJQUFwQjtBQUNBLEtBQUlDLG1CQUFtQixJQUF2QjtBQUNBLEtBQUlDLHlCQUF5QixJQUE3Qjs7QUFFQSxLQUFJQyxhQUFhLEtBQWpCOztBQUdBLEtBQUlMLFVBQUosRUFBZ0I7O0FBRWZFLGtCQUFnQixHQUFoQjtBQUVBOztBQUdELE1BQUtJLFdBQUwsR0FBbUIsVUFBVUMsS0FBVixFQUFpQjs7QUFFbkMsTUFBSVAsVUFBSixFQUFnQjs7QUFFZkUsbUJBQWdCLEVBQWhCO0FBQ0FGLGdCQUFhLEtBQWI7QUFFQTs7QUFFRCxNQUFJLENBQUNLLFVBQUwsRUFBaUI7O0FBRWhCLE9BQUlFLFVBQVUsQ0FBZCxFQUFpQjs7QUFFaEJMLG9CQUFnQixDQUFoQjs7QUFFQTtBQUVBOztBQUVEQSxtQkFBZ0IsRUFBaEI7QUFFQTs7QUFFREEsbUJBQWlCSyxLQUFqQjtBQUNBRixlQUFhLElBQWI7QUFFQSxFQTFCRDs7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ZmlsZSI6ImdyaWRzL2JvYXJkR3JpZC5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKFwiZ3JpZHNcIilcblx0LnNlcnZpY2UoXCJCb2FyZEdyaWRTZXJ2aWNlXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcblx0XHRsZXQgZW1wdHlCb2FyZCA9IHRydWU7XG5cdFx0XG5cdFx0Y29uc3QgbnVtYmVyU3RhY2sgPSBbXTtcblx0XHRcblx0XHRsZXQgY3VycmVudE51bWJlciA9IG51bGw7XG5cdFx0bGV0IGN1cnJlbnRPcGVyYXRpb24gPSBudWxsO1xuXHRcdGxldCBjdXJyZW50T3BlcmF0aW9uUmVzdWx0ID0gbnVsbDtcblx0XHRcblx0XHRsZXQgaW5wdXREaXJ0eSA9IGZhbHNlO1xuXHRcdFxuXHRcdFxuXHRcdGlmIChlbXB0eUJvYXJkKSB7XG5cdFx0XHRcblx0XHRcdGN1cnJlbnROdW1iZXIgPSBcIjBcIjtcblx0XHRcdFxuXHRcdH1cblx0XHRcblx0XHRcblx0XHR0aGlzLmFwcGVuZERpZ2l0ID0gZnVuY3Rpb24gKGRpZ2l0KSB7XG5cdFx0XHRcblx0XHRcdGlmIChlbXB0eUJvYXJkKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRjdXJyZW50TnVtYmVyID0gXCJcIjtcblx0XHRcdFx0ZW1wdHlCb2FyZCA9IGZhbHNlO1xuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKCFpbnB1dERpcnR5KSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAoZGlnaXQgPT09IDApIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRjdXJyZW50TnVtYmVyID0gMDtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGN1cnJlbnROdW1iZXIgPSBcIlwiO1xuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y3VycmVudE51bWJlciArPSBkaWdpdDtcblx0XHRcdGlucHV0RGlydHkgPSB0cnVlO1xuXHRcdFx0XG5cdFx0fTtcblx0XHRcblx0XHR0aGlzLmdldEN1cnJlbnROdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBjdXJyZW50TnVtYmVyO1xuXG5cdFx0fTtcblx0XHRcblx0XHRjb25zdCBleGVjdXRlT3BlcmF0aW9uID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XG5cdFx0XHRjb25zb2xlLmxvZyhgRXhlY3V0aW5nICR7Y3VycmVudE9wZXJhdGlvbn1gKTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgZGlnaXRBID0gbnVtYmVyU3RhY2suc2hpZnQoKTtcblx0XHRcdGNvbnN0IGRpZ2l0QiA9IG51bWJlclN0YWNrLnNoaWZ0KCk7XG5cdFx0XHRcblx0XHRcdHN3aXRjaCAoY3VycmVudE9wZXJhdGlvbikge1xuXHRcdFx0XHRcblx0XHRcdFx0Y2FzZSBcImFkZGl0aW9uXCI6XG5cdFx0XHRcdFx0Y3VycmVudE9wZXJhdGlvblJlc3VsdCA9IGRpZ2l0QSArIGRpZ2l0Qjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInN1YnRyYWN0aW9uXCI6XG5cdFx0XHRcdFx0Y3VycmVudE9wZXJhdGlvblJlc3VsdCA9IGRpZ2l0QSAtIGRpZ2l0Qjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcIm11bHRpcGxpY2F0aW9uXCI6XG5cdFx0XHRcdFx0Y3VycmVudE9wZXJhdGlvblJlc3VsdCA9IGRpZ2l0QSAqIGRpZ2l0Qjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImRpdmlzaW9uXCI6XG5cdFx0XHRcdFx0Y3VycmVudE9wZXJhdGlvblJlc3VsdCA9IGRpZ2l0QSAvIGRpZ2l0Qjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIk9wZXJhdGlvbiBoYXMgbm90IGJlZW4gY3JlYXRlZC5cIik7XG5cdFx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGN1cnJlbnROdW1iZXIgPSBjdXJyZW50T3BlcmF0aW9uUmVzdWx0O1xuXHRcdFx0XG5cdFx0fTtcblx0XHRcblx0XHRcblx0XHR0aGlzLnNldEN1cnJlbnRPcGVyYXRpb24gPSBmdW5jdGlvbiAob3ApIHtcblx0XHRcdFxuXHRcdFx0aWYgKG9wID09PSBcInJlc3VsdGFudFwiKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAobnVtYmVyU3RhY2sgPT09IDIpIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRleGVjdXRlT3BlcmF0aW9uKCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0bnVtYmVyU3RhY2sucHVzaChwYXJzZUludChjdXJyZW50TnVtYmVyLCAxMCkpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKG51bWJlclN0YWNrKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpbnB1dERpcnR5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qKlxuXHRcdFx0ICogSWYgdGhlcmUgaXMgbm90aGluZyBpbiBudW1iZXJTdGFjayAmIHRoZXJlIGlzIG5vIGlucHV0LCBkbyBub3RoaW5nXG5cdFx0XHQgKiBJZiB0aGVyZSBpcyBub3RoaW5nIGluIG51bWJlclN0YWNrICYgdGhlcmUgaXMgaW5wdXQsIGRlZmluZSBhbiBvcGVyYXRpb25cblx0XHRcdCAqL1xuXHRcdFx0XG5cdFx0XHRpZiAobnVtYmVyU3RhY2subGVuZ3RoID09PSAwICYmICFpbnB1dERpcnR5KSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIlRoZXJlIGlzIG5vdGhpbmcgdG8gb3BlcmF0ZSBvblwiKTtcblx0XHRcdFx0XG5cdFx0XHR9IGVsc2UgaWYgKG51bWJlclN0YWNrLmxlbmd0aCA9PT0gMCAmJiBpbnB1dERpcnR5KSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIlRoZXJlIGlzIHNvbWV0aGluZyB0byBwdXQgaW4gdGhlIHN0YWNrIVwiKTtcblx0XHRcdFx0XG5cdFx0XHRcdGN1cnJlbnRPcGVyYXRpb24gPSBvcDtcblx0XHRcdFx0XG5cdFx0XHRcdG51bWJlclN0YWNrLnB1c2gocGFyc2VJbnQoY3VycmVudE51bWJlciwgMTApKTtcblx0XHRcdFx0Y29uc29sZS5sb2cobnVtYmVyU3RhY2spO1xuXHRcdFx0XHRpbnB1dERpcnR5ID0gZmFsc2U7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiogSWYgdGhlcmUgaXMgb25lIGVsZW1lbnQgaW4gbnVtYmVyU3RhY2sgJiB0aGVyZSBpcyBubyBpbnB1dCxcblx0XHRcdCAqIGRlZmluZSBhbiBvcGVyYXRpb24gb3IgYWxsb3cgdG8gc3dpdGNoIG9wZXJhdGlvbnNcblx0XHRcdCAqIElmIHRoZXJlIGlzIG9uZSBlbGVtZW50IGluIG51bWJlclN0YWNrICYgdGhlcmUgaXMgaW5wdXQsXG5cdFx0XHQgKiBwdXNoIHRoZSBpbnB1dCBpbnRvIG51bWJlclN0YWNrXG5cdFx0XHQgKi9cblx0XHRcdFxuXHRcdFx0aWYgKG51bWJlclN0YWNrLmxlbmd0aCA9PT0gMSAmJiAhaW5wdXREaXJ0eSkge1xuXHRcdFx0XHRcblx0XHRcdFx0Y29uc29sZS5sb2coXCJUaGVyZSBpcyBhbiBlbGVtZW50IGluIHRoZSBzdGFja1wiKTtcblx0XHRcdFx0Y3VycmVudE9wZXJhdGlvbiA9IG9wO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhjdXJyZW50T3BlcmF0aW9uKTtcblx0XHRcdFx0XG5cdFx0XHR9IGVsc2UgaWYgKG51bWJlclN0YWNrLmxlbmd0aCA9PT0gMSAmJiBpbnB1dERpcnR5KSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRudW1iZXJTdGFjay5wdXNoKHBhcnNlSW50KGN1cnJlbnROdW1iZXIsIDEwKSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKG51bWJlclN0YWNrKTtcblx0XHRcdFx0aW5wdXREaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcblx0XHRcdFx0LyoqXG5cdFx0XHRcdCAqIFRoaXMgd2lsbCBtYWtlIHRoZSBleGVjdXRpb24gYmxvY2sgdG8gcnVuLlxuXHRcdFx0XHQgKiBUaGUgb3BlcmF0aW9uIHRoYXQgd2FzIGFzc2lnbmVkIHRvIHRyaWdnZXIgdGhlIGV4ZWN1dGlvblxuXHRcdFx0XHQgKiB3aWxsIGJlIHN0b3JlZCBhZnRlciB0aGUgZXhlY3V0aW9uIGlzIGRvbmUgYXMgaXQgd2lsbFxuXHRcdFx0XHQgKiBsZWF2ZSBvbmUgZWxlbWVudCBpbiB0aGUgc3RhY2sgcmVhZHkgdG8gYW4gb3BlcmF0aW9uXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0LyoqXG5cdFx0XHQgKiBJZiB0aGVyZSBhcmUgdHdvIGVsZW1lbnRzIGluIG51bWJlclN0YWNrLFxuXHRcdFx0ICogZXhlY3V0ZSB0aGUgY3VycmVudCBvcGVyYXRpb25cblx0XHRcdCAqL1xuXHRcdFx0XG5cdFx0XHRpZiAobnVtYmVyU3RhY2subGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkV4ZWN1dGUgT3BlcmF0aW9uXCIpO1xuXHRcdFx0XHRcblx0XHRcdFx0ZXhlY3V0ZU9wZXJhdGlvbigpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gT3BlcmF0aW9uIGlzIGNvbXBsZXRlLiBBZGQgcmVzdWx0IHRvIG51bWJlclN0YWNrXG5cdFx0XHRcdFxuXHRcdFx0XHRudW1iZXJTdGFjay5wdXNoKHBhcnNlSW50KGN1cnJlbnROdW1iZXIsIDEwKSk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZyhudW1iZXJTdGFjayk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjdXJyZW50T3BlcmF0aW9uID0gb3A7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGN1cnJlbnRPcGVyYXRpb24pO1xuXHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdH07XG5cdFx0XG5cdFx0dGhpcy5jbGVhckJvYXJkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XG5cdFx0XHRjb25zb2xlLmxvZyhcIkNMRUFSXCIpO1xuXHRcdFx0XG5cdFx0XHRlbXB0eUJvYXJkID0gdHJ1ZTtcblx0XHRcdFxuXHRcdFx0bnVtYmVyU3RhY2subGVuZ3RoID0gMDtcblx0XHRcdFxuXHRcdFx0Y3VycmVudE51bWJlciA9IDA7XG5cdFx0XHRjdXJyZW50T3BlcmF0aW9uID0gbnVsbDtcblx0XHRcdGN1cnJlbnRPcGVyYXRpb25SZXN1bHQgPSBudWxsO1xuXHRcdFx0XG5cdFx0XHRpbnB1dERpcnR5ID0gZmFsc2U7XG5cdFx0XHRcblx0XHR9XG5cdFx0XG5cdH0pO1xuIl19
